# Tasks: –ë–∞–∑–æ–≤–∞—è —Ä–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å

**Input**: Design documents from `/specs/006-base-role-model/`
**Prerequisites**: plan.md ‚úÖ, spec.md ‚úÖ, research.md ‚úÖ, data-model.md ‚úÖ, contracts/ ‚úÖ

**Tests**: –í–∫–ª—é—á–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º VIII –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

**Organization**: –ó–∞–¥–∞—á–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏—Å—Ç–æ—Ä–∏—è–º –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –∏—Å—Ç–æ—Ä–∏–∏.

## Format: `[ID] [P?] [Story] Description`

- **[P]**: –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **[Story]**: –ö–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∑–∞–¥–∞—á–∞ (US1, US2, US3, US4)
- –í–∫–ª—é—á–µ–Ω—ã —Ç–æ—á–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö

## Path Conventions

- **Single web API project**: `app/`, `tests/` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ü—É—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–∑ plan.md

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏

- [X] T001 –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ `migrations/versions/2026_02_07_add_role_model.py`
---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å Role –∏ —Å–≤—è–∑—å User-Role, –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–π –ù–ï–í–û–ó–ú–û–ñ–ù–ê —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∏ –æ–¥–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏

**‚ö†Ô∏è CRITICAL**: –ù–∏ –æ–¥–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—á–∞—Ç–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π —Ñ–∞–∑—ã

- [X] T003 –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Role –≤ `app/db/models/role.py` —Å –ø–æ–ª—è–º–∏ id, name, description, created_at, updated_at
- [X] T004 [P] –°–æ–∑–¥–∞—Ç—å Pydantic —Å—Ö–µ–º—ã Role –≤ `app/api/v1/schemas/roles.py` (RoleResponse, RoleCreateRequest)
- [X] T005 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã roles –∏ –≤—Å—Ç–∞–≤–∫—É seed data (3 —Ä–æ–ª–∏) –≤ `migrations/versions/2026_02_07_add_role_model.py`
- [X] T006 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ role_id –∏ relationship –≤ –º–æ–¥–µ–ª—å User –≤ `app/db/models/user.py`
- [X] T007 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è role_id –≤ users —Ç–∞–±–ª–∏—Ü—É —Å FOREIGN KEY constraint –≤ `migrations/versions/2026_02_07_add_role_model.py`
- [X] T008 [P] –°–æ–∑–¥–∞—Ç—å CRUD –¥–ª—è Role –≤ `app/db/crud/roles.py` (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç BaseCrud)
- [X] T009 [P] –°–æ–∑–¥–∞—Ç—å RoleService –≤ `app/services/role_service.py` (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç BaseService)

**Checkpoint**: Foundation –≥–æ—Ç–æ–≤ - –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å—Ç–æ—Ä–∏–π

---

## Phase 3: User Story 1 - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏ (Priority: P1) üéØ MVP

**Goal**: –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∏ —Ä–æ–ª–∏ (user, manager, admin) –≤ —Å–∏—Å—Ç–µ–º–µ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏

**Independent Test**: –ó–∞–ø—Ä–æ—Å `GET /api/v1/roles/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∏ —Ä–æ–ª–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ id –∏ names

### Tests for User Story 1

> **NOTE**: –≠—Ç–∏ —Ç–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è –ü–ï–†–í–´–ú–ò, –¥–æ–ª–∂–Ω—ã FAIL –ø–µ—Ä–µ–¥ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–µ–π

- [X] T010 [P] [US1] –¢–µ—Å—Ç GET /api/v1/roles/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 —Ä–æ–ª–∏ –≤ `tests/api/v1/controllers/test_roles.py`
- [X] T011 [P] [US1] –¢–µ—Å—Ç GET /api/v1/roles/{id}/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–æ–ª—å –ø–æ ID –≤ `tests/api/v1/controllers/test_roles.py`
- [X] T012 [P] [US1] –¢–µ—Å—Ç RoleService find_all –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ä–æ–ª–∏ –≤ `tests/services/test_role_service.py`

### Implementation for User Story 1

- [X] T013 [US1] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä roles –≤ `app/api/v1/controllers/roles.py` —Å endpoints GET /api/v1/roles/ –∏ GET /api/v1/roles/{id}/
- [X] T014 [US1] –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª–∏ —Ä–æ—É—Ç–µ—Ä –≤ `app/api/v1/router.py`
- [X] T015 [US1] –û–±–Ω–æ–≤–∏—Ç—å RoleService –º–µ—Ç–æ–¥–∞–º–∏ get_roles –∏ get_role_by_id –≤ `app/services/role_service.py` (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç T009)

**Checkpoint**: –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç User Story 1 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞

---

## Phase 5: User Story 3 - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ä–æ–ª–∏ (Priority: P3)

**Goal**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å —Ä–æ–ª—å "user" –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Independent Test**: POST /api/v1/users/ –±–µ–∑ role_id —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å role="user"

### Tests for User Story 3

- [X] T022 [P] [US3] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ role_id –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç role_id=1 –≤ `tests/api/v1/controllers/test_users.py`
- [X] T023 [P] [US3] –¢–µ—Å—Ç UserService create_user —Å role_id=None –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ä–æ–ª—å user –≤ `tests/services/test_user_service.py`
- [X] T024 [P] [US3] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —è–≤–Ω—ã–º role_id —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ `tests/api/v1/controllers/test_users.py`

### Implementation for User Story 3

- [X] T025 [US3] –û–±–Ω–æ–≤–∏—Ç—å UserCreateRequest —Å—Ö–µ–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ role_id –≤ `app/api/v1/schemas/users.py`
- [X] T026 [US3] –û–±–Ω–æ–≤–∏—Ç—å UserService.create_user –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ–º role_id=1 –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω –≤ `app/services/user_service.py`
- [X] T027 [US3] –û–±–Ω–æ–≤–∏—Ç—å UserService.create_user –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è role_id –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –≤ `app/services/user_service.py`
- [X] T028 [US3] –û–±–Ω–æ–≤–∏—Ç—å UserResponse —Å—Ö–µ–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª—è role: RoleResponse –≤ `app/api/v1/schemas/users.py`

**Checkpoint**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

---

## Phase 6: User Story 4 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö (Priority: P4)

**Goal**: –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ

**Independent Test**: –õ—é–±–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### Tests for User Story 4

- [X] T029 [P] [US4] –¢–µ—Å—Ç get_current_user_with_role –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–æ–ª—å –≤ `tests/api/v1/test_dependencies.py`
- [X] T030 [P] [US4] –¢–µ—Å—Ç GET /api/v1/users/me –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `tests/api/v1/controllers/test_users.py`
- [X] T031 [P] [US4] –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ <10ms –≤ `tests/api/v1/test_dependencies.py`

### Implementation for User Story 4

- [X] T032 [US4] –°–æ–∑–¥–∞—Ç—å dependency get_current_user_with_role –≤ `app/api/v1/dependencies.py` —Å Depends(get_current_user)
- [X] T033 [US4] –û–±–Ω–æ–≤–∏—Ç—å CurrentUserService.get_current_user –¥–ª—è lazy load —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ –¥–æ—Å—Ç—É–ø –∫ user.role –≤ `app/services/current_user_service.py`
- [X] T034 [US4] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä users.py –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ get_current_user_with_role –≤ endpoints –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –≤ `app/api/v1/controllers/users.py`

**Checkpoint**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã

---

## Phase 7: Polish & Cross-Cutting Concerns

**Purpose**: –£–ª—É—á—à–µ–Ω–∏—è, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å—Ç–æ—Ä–∏–π

- [X] T035 [P] –î–æ–±–∞–≤–∏—Ç—å fixture –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–ª–µ–π –≤ `tests/conftest.py`
- [X] T036 –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è role_id –≤ `tests/conftest.py`
- [X] T037 [P] –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–π >= 90% —á–µ—Ä–µ–∑ `make test`
- [X] T038 [P] –ó–∞–ø—É—Å—Ç–∏—Ç—å pre-commit hooks –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ `pre-commit run --all-files`

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π - –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- **Foundational (Phase 2)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Setup - –ë–õ–û–ö–ò–†–£–ï–¢ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
- **User Stories (Phase 3-6)**: –í—Å–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç Foundational phase
  - User stories –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã)
  - –ò–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ (P1 ‚Üí P2 ‚Üí P3 ‚Üí P4)
- **Polish (Phase 7)**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å—Ç–æ—Ä–∏–π

### User Story Dependencies

- **User Story 1 (P1)**: –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–æ—Å–ª–µ Foundational - –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—Ä–∏–π
- **User Story 2 (P2)**: –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–æ—Å–ª–µ Foundational - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å US1 (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏), –Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞
- **User Story 3 (P3)**: –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–æ—Å–ª–µ Foundational - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å US1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–æ–ª–∏), –Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞
- **User Story 4 (P4)**: –ú–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–æ—Å–ª–µ Foundational - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å US1-US3, –Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞

### Within Each User Story

- Tests –î–û–õ–ñ–ù–´ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ FAIL –ø–µ—Ä–µ–¥ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- Models/Services –ø–µ—Ä–µ–¥ Controllers
- Core implementation –ø–µ—Ä–µ–¥ Integration
- Story complete –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

### Parallel Opportunities

- –í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ [P] –≤ Setup phase –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ [P] –≤ Foundational phase –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö Phase 2)
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Foundational, –≤—Å–µ user stories –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–µ—Å–ª–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–∞)
- –í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è user story –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ [P] –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –†–∞–∑–Ω—ã–µ user stories –º–æ–≥—É—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

---

## Parallel Example: User Story 1

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è User Story 1 –≤–º–µ—Å—Ç–µ:
Task T010: "–¢–µ—Å—Ç GET /api/v1/roles/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 —Ä–æ–ª–∏"
Task T011: "–¢–µ—Å—Ç GET /api/v1/roles/{id}/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–æ–ª—å –ø–æ ID"
Task T012: "–¢–µ—Å—Ç RoleService find_all –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ä–æ–ª–∏"

# –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ FAIL, –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é:
Task T013: "–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä roles"
Task T014: "–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª–∏ —Ä–æ—É—Ç–µ—Ä"
Task T015: "–û–±–Ω–æ–≤–∏—Ç—å RoleService –º–µ—Ç–æ–¥–∞–º–∏"
```

---

## Parallel Example: User Story 3

```bash
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤:
Task T022: "–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ role_id"
Task T023: "–¢–µ—Å—Ç UserService create_user —Å role_id=None"
Task T024: "–¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —è–≤–Ω—ã–º role_id"

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤:
Task T025: "–û–±–Ω–æ–≤–∏—Ç—å UserCreateRequest —Å—Ö–µ–º—É"
Task T026: "–û–±–Ω–æ–≤–∏—Ç—å UserService.create_user –ª–æ–≥–∏–∫—É —Ä–æ–ª–∏"
Task T027: "–û–±–Ω–æ–≤–∏—Ç—å UserService.create_user –ø—Ä–æ–≤–µ—Ä–∫—É role_id"
# Task T028 –∑–∞–≤–∏—Å–∏—Ç –æ—Ç T025 (UserResponse —Å—Ö–µ–º–∞)
```

---

## Implementation Strategy

### MVP First (User Story 1 Only)

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 1: Setup
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 2: Foundational (CRITICAL - –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –∏—Å—Ç–æ—Ä–∏–∏)
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 3: User Story 1
4. **STOP and VALIDATE**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å User Story 1 –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
5. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å/–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –µ—Å–ª–∏ –≥–æ—Ç–æ–≤–æ

**MVP –≤–∫–ª—é—á–∞–µ—Ç**:
- 3 —Ä–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ (user, manager, admin)
- API endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ä–æ–ª–µ–π –∏ —Ä–æ–ª–∏ –ø–æ ID
- –¢–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### Incremental Delivery

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å Setup + Foundational ‚Üí Foundation –≥–æ—Ç–æ–≤–æ
2. –î–æ–±–∞–≤–∏—Ç—å User Story 1 ‚Üí –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ ‚Üí –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å/Demo (MVP!)
3. –î–æ–±–∞–≤–∏—Ç—å User Story 2 ‚Üí –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ ‚Üí –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å/Demo
4. –î–æ–±–∞–≤–∏—Ç—å User Story 3 ‚Üí –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ ‚Üí –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å/Demo
5. –î–æ–±–∞–≤–∏—Ç—å User Story 4 ‚Üí –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ ‚Üí –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å/Demo
6. –ö–∞–∂–¥–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å –Ω–µ –ª–æ–º–∞—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ

### Parallel Team Strategy

–° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏:

1. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç Setup + Foundational –≤–º–µ—Å—Ç–µ
2. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Foundational:
   - Developer A: User Story 1 (T010-T015)
   - Developer B: User Story 2 (T016-T021)
   - Developer C: User Story 3 (T022-T028)
   - Developer D: User Story 4 (T029-T034)
3. –ò—Å—Ç–æ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

---

## Notes

- [P] –∑–∞–¥–∞—á–∏ = —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [Story] –º–µ—Ç–∫–∞ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- –ö–∞–∂–¥–∞—è user story –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –∑–∞–≤–µ—Ä—à–∞–µ–º–æ–π –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–µ—Å—Ç—ã fail –ø–µ—Ä–µ–¥ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- –ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø—ã
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ –ª—é–±–æ–º checkpoint —á—Ç–æ–±—ã –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ò–∑–±–µ–≥–∞—Ç—å: —Ä–∞–∑–º—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤, cross-story –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Ä—É—à–∞—é—â–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

---

## Task Count Summary

- **Total tasks**: 39
- **Setup (Phase 1)**: 2 –∑–∞–¥–∞—á–∏
- **Foundational (Phase 2)**: 7 –∑–∞–¥–∞—á
- **User Story 1 (Phase 3)**: 6 –∑–∞–¥–∞—á (3 —Ç–µ—Å—Ç–∞ + 3 –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)
- **User Story 2 (Phase 4)**: 6 –∑–∞–¥–∞—á (3 —Ç–µ—Å—Ç–∞ + 3 –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)
- **User Story 3 (Phase 5)**: 7 –∑–∞–¥–∞—á (3 —Ç–µ—Å—Ç–∞ + 4 –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)
- **User Story 4 (Phase 6)**: 6 –∑–∞–¥–∞—á (3 —Ç–µ—Å—Ç–∞ + 3 –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)
- **Polish (Phase 7)**: 5 –∑–∞–¥–∞—á

**Parallel opportunities**: 25 –∑–∞–¥–∞—á –ø–æ–º–µ—á–µ–Ω—ã [P] –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**MVP scope** (User Story 1 only): 15 –∑–∞–¥–∞—á (Setup 2 + Foundational 7 + US1 6)

**Independent test criteria**:
- US1: GET /api/v1/roles/ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 —Ä–æ–ª–∏
- US3: POST /api/v1/users/ –±–µ–∑ role_id —Å–æ–∑–¥–∞—ë—Ç —Å role="user"
- US4: –õ—é–±–æ–π auth –∑–∞–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–æ–ª—å –∏–∑ –ë–î